webpackJsonp([5],{692:function(e,t,a){a(833);var i=a(267)(a(729),a(810),null,null);e.exports=i.exports},712:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NTdEMkVENzU3NUFFNzExQjYyMEM1MDJGODcwMDVBMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNUM0MjY2NTkxNTkxMUU3OUI3MzgwNzkwNDJBNDkxNCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNUM0MjY2NDkxNTkxMUU3OUI3MzgwNzkwNDJBNDkxNCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjBDQzQ4OTczMzc5MUU3MTE4NUFBOUUyRUFCQUJEM0E4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk1N0QyRUQ3NTc1QUU3MTFCNjIwQzUwMkY4NzAwNUEzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HaK3jgAAAZxJREFUeNqs1L1Lw0AYx/HUOkg7aKkO9QWcXIqDqKMiRRAdHAQRdHIU/TMcBKVugoO4ikgXQRBfsOBcEKvUSVDr4GSHttaK8XvlUc8zfQt94EPCpffLk/Qulm3bloMhRJFEDh94xD7m0Fxm3g9zIISY/VsqMI175LXxO4zXGtwvXalKYB6t2nUvxrCHT7npcrXgkBa6LiGVHnUCGbnBbKXgmBZq1SiCgtygwyl4WEKTNXRqWpW5G07BUbm4UGeoEsC7/MEeM/gKReOPqseJNBbWx5ssy+rGCzKWu7qWY6c+qIJ9eLPcl0eOPjP4Se7mdRncI8dnMziBFoy6DB5AHrdmcEzOV1wGH2IT2T+j8kFJyS6adLkyyu68iOz9VzmvNlF9AnaxBV+1j9CSdF2UrR10mKCeblE2xHedOoWXdotWM9hBGwq4xA2K6EUEAfUGsY0wRnCGaeT0d2xqxxoe7P+VxQEG5bd+xOXaud652bG58PvQJYs/jZQsLb38OJLlGsdUqfMGrQK98wvVeaOCzfDjSq/CTfllwwW/BBgAEOAEmdz+ES4AAAAASUVORK5CYII="},716:function(e,t,a){e.exports={default:a(717),__esModule:!0}},717:function(e,t,a){a(271),a(270),e.exports=a(720)},718:function(e,t,a){var i=a(173),n=a(52)("toStringTag"),o="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,a,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=l(t=Object(e),n))?a:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},719:function(e,t,a){var i=a(718),n=a(52)("iterator"),o=a(107);e.exports=a(75).getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||o[i(e)]}},720:function(e,t,a){var i=a(76),n=a(719);e.exports=a(75).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},729:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(716),n=a.n(i);t.default={data:function(){return{approverList:[],dto:{financeRoleId:"",financeRoleName:""},condition:{pageNum:1,pageSize:10,searchTxt:"",financeRoleId:""},searchDto:{searchTxt:"",pageNum:1,pageSize:10,financeRoleId:""},updateBtnText:"更新",updateing:!1,pageInfo1:{totalCount:0,pageCount:0},pageInfo2:{totalCount:0,pageCount:0},selectedUserIds:[],removeSelection:[],multipleSelection:[],labelPosition:"left",formLine:!0,userList:[],noRoleUserList:[],dialogFormVisible:!1}},created:function(){this.getPermission()},mounted:function(){this.getApproverList()},methods:{getApproverList:function(){var e=this;e.$api.post(e.url.getApproverList,{pageNum:1,pageSize:100,searchTxt:""},function(t){"ACK"===t.code?e.approverList=t.data.list:e.$message.error(t.message)},function(t){e.$message.error(t.message)},e.url.MOCK,"",!0)},handleChange:function(){console.log("name:"+this.dto.financeRoleId),this.condition.financeRoleId=this.dto.financeRoleId,this.searchDto.financeRoleId=this.dto.financeRoleId,this.initTable()},getPermission:function(){var e=this;e.$api.get(e.url.myPermission,{},function(t){if("ACK"===t.code){e.menuList=t.data;for(var a=!1,i=0;i<e.menuList.length;i++)"auth"===e.menuList[i].code&&(a=!0);a||e.$router.push("/")}else e.$message.error(t.message)},function(t){e.$message.error(t.message)},e.url.MOCK,"",!0)},backRole:function(){this.$router.push("/role")},handleOpen:function(){this.initTable2()},addUser:function(){this.dialogFormVisible=!0},deleteUser:function(){var e=this;0===e.removeSelection.length?e.$message({type:"info",message:"请选择要移除的用户"}):e.$confirm("确定移除用户吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.post(e.url.unassignApprover,{financeRoleId:e.condition.financeRoleId,listUserId:e.removeSelection},function(t){"ACK"===t.code?(e.$message.success(t.message),e.initTable()):e.$message.error(t.message)},function(t){e.$message.error(t.message)},e.url.MOCK,"",!0)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},submit:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updateing=!0,t.updateBtnText="更新中";var a=t.roleAddDto;t.$api.put(t.url.updateRole,a,function(e){"ACK"===e.code?t.$message({type:"success",message:e.message}):t.$message.error(e.message),t.updateing=!1,t.updateBtnText="更新"},function(e){t.$message.error(e.message),t.updateing=!1,t.updateBtnText="更新"},t.url.MOCK,"",!0)})},handleSelectionChange:function(e){this.multipleSelection=[];var t=!0,a=!1,i=void 0;try{for(var o,l=n()(e);!(t=(o=l.next()).done);t=!0){var r=o.value;this.multipleSelection.push(r.staffId)}}catch(e){a=!0,i=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw i}}console.log(this.multipleSelection)},handleRemoveSelectionChange:function(e){var t=this;t.removeSelection=[];var a=!0,i=!1,o=void 0;try{for(var l,r=n()(e);!(a=(l=r.next()).done);a=!0){var s=l.value;t.removeSelection.push(s.staffId)}}catch(e){i=!0,o=e}finally{try{!a&&r.return&&r.return()}finally{if(i)throw o}}console.log(t.removeSelection)},addUserRole:function(){var e=this;if(!e.searchDto.financeRoleId)return e.$message({type:"info",message:"请选择需分配的流程角色"}),!1;0===e.multipleSelection.length?e.$message({type:"info",message:"请选择需分配的人员"}):e.$api.post(e.url.assignApprover,{financeRoleId:e.searchDto.financeRoleId,listUserId:e.multipleSelection},function(t){"ACK"===t.code?(e.dialogFormVisible=!1,e.$message.success(t.message),e.multipleSelection=[],e.initTable()):e.$message.error(t.message)},function(t){e.$message.error(t.message)},e.url.MOCK,"",!0)},handleDel:function(e,t){var a=this;a.$confirm("确定删除该角色吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.delete(a.url.deleteRole+t.roleId,{},function(e){"ACK"===e.code?(a.$message({type:"success",message:e.message}),a.removeSelection=[],a.initTable()):a.$message({type:"error",message:e.message})},function(){},a.url.MOCK)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleEdit:function(e){this.$router.push("/home")},showAdd:function(){this.dialogFormVisible=!0},searchRole:function(){this.searchDto.pageNum=1,this.initTable2()},handleCurrentChange:function(e){this.condition.pageNum=e,this.initTable()},handleDialogCurrentChange:function(e){this.searchDto.pageNum=e,this.initTable2()},initTable2:function(){var e=this;e.$api.post(e.url.getUnassaginApproverList,e.searchDto,function(t){console.log(t),"ACK"===t.code?(e.noRoleUserList=t.data.list,e.searchDto.pageNum=t.data.pageNum,e.pageInfo2.totalCount=t.data.total,e.pageInfo2.pageCount=t.data.pages,e.initPage(2)):e.$message.error(t.message)},function(t){e.$message.error(t.message)},e.url.MOCK,"",!0)},initTable:function(){var e=this;e.$api.post(e.url.getAssignApproverList,e.condition,function(t){console.log(t),"ACK"===t.code?(e.userList=t.data.list,e.condition.pageNum=t.data.pageNum,e.pageInfo1.totalCount=t.data.total,e.pageInfo1.pageCount=t.data.pages,e.initPage(1)):e.$message.error(t.message)},function(t){e.$message.error(t.message)},e.url.MOCK,"",!0)},initPage:function(e){var t=this;document.getElementById("myPages"+e)&&document.getElementById("myPages"+e).parentNode.removeChild(document.getElementById("myPages"+e));var a;a=1===e?t.pageInfo1.pageCount:t.pageInfo2.pageCount;var i="数据，共"+a+"页，",n=document.createElement("span");n.id="myPages"+e;var o=document.createTextNode(i);n.appendChild(o);var l=document.getElementById("page"+e),r=l.lastChild;l.insertBefore(n,r)}}}},755:function(e,t,a){t=e.exports=a(74)(),t.push([e.i,".role-detail .role-container{padding:20px}.role-detail .el-form--label-left .el-form-item__label{text-align:right}.role-detail .el-card__header{padding:10px 20px 10px 0;border-bottom:0}.role-detail .el-card{border:0;border-radius:0;box-shadow:none;font-weight:700}.role-detail .el-card__body{padding:0}.role-detail .delete,.role-detail .edit{width:20px;height:22px;cursor:pointer}.role-detail .edit{margin-right:13px}.role-detail .el-input__inner{width:180px;height:38px;line-height:38px;color:#545358}.role-detail .my-search{height:40px;width:40px;background-color:#5785e0;padding:0;border-radius:4px;border:0}.role-detail .form-title{height:60px;line-height:60px}.role-detail .form-title .split-line{margin-top:20px}.role-detail .form-title .title{color:#475055;font-size:18px;margin-left:18px}.role-detail .add{position:absolute;top:11px;left:10px;height:18px;width:18px}.role-detail .my-add{height:40px;line-height:40px;padding:0;width:104px;border:1px solid #5484e0;color:#5484e0}.role-detail-detail .my-add span{margin-left:10px}.role-detail-dialog .el-dialog__body{padding-left:70px;padding-right:70px}.role-detail-dialog .el-form--inline .el-form-item.left-item{margin-right:49px}.role-detail .my-larger .el-input__inner,.role-detail .my-larger .el-textarea__inner{width:494px;height:38px!important}.role-detail .el-input__inner:focus,.role-detail .el-textarea__inner{border-color:#5e85e0}.role-dialog .el-dialog{width:732px!important}.role-detail .el-checkbox__inner:hover{border-color:#5e85e0}.role-detail .el-checkbox__input.is-checked .el-checkbox__inner{background-color:#5e85e0;border-color:#5e85e0}",""])},810:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("div",{staticClass:"main role-detail"},[e._m(0),e._v(" "),i("div",{staticClass:"role-container"},[i("el-form",{ref:"ruleForm",attrs:{inline:e.formLine,"label-position":e.labelPosition,"label-width":"70px",model:e.dto}},[i("el-form-item",{attrs:{label:"流程角色"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.dto.financeRoleId,callback:function(t){e.$set(e.dto,"financeRoleId",t)},expression:"dto.financeRoleId"}},[e._l(e.approverList,function(e){return[i("el-option",{attrs:{label:e.financeRoleName,value:e.financeRoleId}})]})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:""}})],1),e._v(" "),i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{"line-height":"36px"}},[e._v("已分配人员列表")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"default"},on:{click:e.deleteUser}},[e._v("移除用户")]),e._v(" "),i("el-button",{staticClass:"my-primary",staticStyle:{float:"right","margin-right":"20px"},attrs:{type:"primary"},on:{click:e.addUser}},[e._v("添加用户")])],1)]),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList},on:{"selection-change":e.handleRemoveSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"staffId",label:"工号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"姓名"}})],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{layout:"prev, pager, next, total, jumper",total:e.pageInfo1.totalCount,"current-page":e.condition.pageNum,id:"page1"},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{staticClass:"role-detail-dialog",attrs:{title:"待分配人员列表",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},open:e.handleOpen}},[i("el-form",{attrs:{"label-width":"78px",inline:!0}},[i("el-form-item",{attrs:{label:""}},[i("el-input",{attrs:{placeholder:"请输入搜索条件"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchRole(t)}},model:{value:e.searchDto.searchTxt,callback:function(t){e.$set(e.searchDto,"searchTxt",t)},expression:"searchDto.searchTxt"}}),e._v(" "),i("el-input",{staticStyle:{display:"none"}})],1),e._v(" "),i("el-form-item",{attrs:{label:""}},[i("el-button",{staticClass:"my-search",on:{click:e.searchRole}},[i("img",{attrs:{src:a(712)}})])],1)],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.noRoleUserList},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"staffId",label:"工号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"姓名"}})],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{layout:"prev, pager, next, total, jumper",total:e.pageInfo2.totalCount,"current-page":e.searchDto.pageNum,id:"page2"},on:{"current-change":e.handleDialogCurrentChange}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addUserRole("ruleForm")}}},[e._v("确定")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-title"},[a("div",{staticClass:"split-line"}),a("div",{staticClass:"title"},[e._v("审批人配置")])])}]}},833:function(e,t,a){var i=a(755);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(268)("0378a449",i,!0)}});